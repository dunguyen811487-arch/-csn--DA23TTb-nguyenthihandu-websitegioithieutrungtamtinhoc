<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Danh sách Khóa học Tin học Vĩnh Long</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
/* Menu đồng bộ */
body { background: #f8f9fa; }
.horizontal-menu {
    background: #0056b3; 
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}
.horizontal-menu .menu-list {
    list-style: none; padding: 0; margin: 0; display: flex; justify-content: center;
}
.horizontal-menu .menu-list li { margin: 0; }
.horizontal-menu .menu-list a {
    color: white; text-decoration: none; padding: 12px 25px; display: block;
    font-size: 17px; transition: 0.3s; border-radius: 0;
}
.horizontal-menu .menu-list a:hover {
    background: rgba(255, 255, 255, 0.2); 
}
.course-card {
    padding: 20px;
    border-left: 5px solid #007bff;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    background-color: white;
    transition: 0.3s;
}
.course-card:hover {
    border-left-color: #28a745;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
}
.center-name {
    font-size: 0.9rem;
    color: #6c757d;
}
</style>
</head>
<body>

<nav class="horizontal-menu">
    <ul class="menu-list">
        <li><a href="index.html">Trang chủ</a></li>
        <li><a href="gioithieu.html">Giới thiệu</a></li>
        <li><a href="trungtam.html">Trung tâm Tin học</a></li>
        <li><a href="khoahoc.html">Khóa học</a></li>
        <li><a href="dangky.html">Đăng ký học</a></li>
        <li><a href="lienhe.html">Liên hệ</a></li>
    </ul>
</nav>

<div class="container py-5">
    <header class="text-center mb-5">
        <h1 class="text-primary">Danh sách Tổng hợp các Khóa học</h1>
        <p class="lead text-muted">Hàng chục khóa học từ các trung tâm uy tín tại Vĩnh Long.</p>
    </header>

    <div class="row mb-4">
        <div class="col-md-12">
            <input type="text" class="form-control" id="timKiemKhoaHoc" placeholder="Tìm kiếm khóa học (ví dụ: Photoshop, Web, Excel...)" onkeyup="locKhoaHoc()">
        </div>
    </div>

    <div id="danhSachKhoaHoc" class="row g-4">
        </div>

</div>

<footer>
    <div class="text-center py-3" style="background: #222; color: white; margin-top: 40px;">
        © 2025 - Website Giới thiệu Trung tâm Tin học Vĩnh Long
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
let dsTrungTam = [];
let dsKhoaHocTongHop = [];

// =========================
// 1. CHUẨN BỊ DỮ LIỆU
// =========================
function chuanBiDuLieu() {
    const dataString = localStorage.getItem('dsTrungTamData');
    if (dataString) {
        dsTrungTam = JSON.parse(dataString);
    } else {
        console.error("Không tìm thấy dữ liệu Trung tâm.");
        return;
    }

    // Tổng hợp tất cả khóa học
    dsKhoaHocTongHop = [];
    dsTrungTam.forEach(tt => {
        if (Array.isArray(tt.khoaHoc)) {
            tt.khoaHoc.forEach(kh => {
                dsKhoaHocTongHop.push({
                    tenKhoaHoc: kh,
                    tenTrungTam: tt.ten,
                    diaChiTrungTam: tt.diaChi
                });
            });
        }
    });
    
    hienThiKhoaHoc(dsKhoaHocTongHop);
}

// =========================
// 2. HIỂN THỊ KHÓA HỌC
// =========================
function hienThiKhoaHoc(data) {
    const container = document.getElementById('danhSachKhoaHoc');
    
    if (data.length === 0) {
        container.innerHTML = '<div class="col-12"><div class="alert alert-warning">Không tìm thấy khóa học nào phù hợp.</div></div>';
        return;
    }

    container.innerHTML = data.map((item, index) => `
        <div class="col-md-6 col-lg-4">
            <div class="course-card h-100">
                <h5 class="text-dark">${item.tenKhoaHoc}</h5>
                <p class="center-name">${item.tenTrungTam}</p>
                <p class="small mb-2">Địa chỉ: ${item.diaChiTrungTam}</p>
                <a href="dangky.html?khoahoc=${encodeURIComponent(item.tenKhoaHoc)}&trungtam=${encodeURIComponent(item.tenTrungTam)}" 
                   class="btn btn-success w-100 mt-2">
                   Đăng ký Tư vấn
                </a>
            </div>
        </div>
    `).join('');
}

// =========================
// 3. LỌC KHÓA HỌC
// =========================
function locKhoaHoc() {
    const tuKhoa = document.getElementById('timKiemKhoaHoc').value.toLowerCase().trim();
    
    const ketQuaLoc = dsKhoaHocTongHop.filter(item => 
        item.tenKhoaHoc.toLowerCase().includes(tuKhoa) ||
        item.tenTrungTam.toLowerCase().includes(tuKhoa)
    );

    hienThiKhoaHoc(ketQuaLoc);
}

document.addEventListener('DOMContentLoaded', chuanBiDuLieu);
</script>

</body>
</html>